# Web3多链钱包监控工具 - 完整使用说明

## 📋 目录

1. [项目概述](#项目概述)
2. [功能特性](#功能特性)
3. [系统要求](#系统要求)
4. [安装指南](#安装指南)
5. [配置说明](#配置说明)
6. [使用教程](#使用教程)
7. [功能详解](#功能详解)
8. [抢跑功能](#抢跑功能)
9. [网络支持](#网络支持)
10. [常见问题](#常见问题)
11. [安全注意事项](#安全注意事项)
12. [故障排除](#故障排除)
13. [更新日志](#更新日志)

---

## 📖 项目概述

Web3多链钱包监控工具是一个功能强大的Python应用程序，专门用于监控多个区块链网络上的钱包代币余额，并在检测到余额变化时自动执行转账操作。该工具支持以太坊、BSC、Arbitrum、Base、Solana等多个主流区块链网络。

### 核心功能
- **实时监控**: 持续监控指定钱包的代币余额
- **自动转账**: 检测到余额>0时立即转出所有代币
- **多链支持**: 支持EVM兼容链和Solana网络
- **抢跑功能**: 通过提高Gas费用实现抢跑交易
- **友好界面**: 提供直观的GUI界面和命令行版本

---

## ✨ 功能特性

### 🔐 安全性
- 私钥仅在内存中存储，不保存到文件
- 支持多种私钥格式（带或不带0x前缀）
- 完整的交易签名和验证流程

### 📊 监控功能
- 实时监控原生代币（ETH、BNB、SOL等）
- 实时监控ERC-20/BEP-20/SPL代币
- 多网络并行监控
- 可配置的检查间隔

### ⚡ 转账功能
- 自动转账（余额>0时立即转出）
- 智能Gas费用计算
- 支持EIP-1559和传统Gas价格
- 抢跑模式（提高Gas费用抢跑）

### 🖥️ 用户界面
- 直观的GUI界面
- 实时日志显示
- 网络状态监控
- 一键启停功能

### 📝 日志记录
- 详细的操作日志
- 交易哈希记录
- 错误信息跟踪
- 性能统计

---

## 💻 系统要求

### 操作系统
- Windows 10/11
- macOS 10.14+
- Linux (Ubuntu 18.04+)

### Python版本
- Python 3.8 或更高版本

### 硬件要求
- 内存: 至少 512MB 可用内存
- 存储: 至少 100MB 可用空间
- 网络: 稳定的互联网连接

---

## 🚀 安装指南

### 1. 克隆项目
```bash
git clone https://github.com/your-repo/wallet-monitor.git
cd wallet-monitor
```

### 2. 创建虚拟环境（推荐）
```bash
# Windows
python -m venv wallet_monitor_env
wallet_monitor_env\Scripts\activate

# macOS/Linux
python3 -m venv wallet_monitor_env
source wallet_monitor_env/bin/activate
```

### 3. 安装依赖
```bash
pip install -r requirements.txt
```

### 4. 验证安装
```bash
python wallet_monitor_gui.py
```

---

## ⚙️ 配置说明

### 1. 网络配置

项目支持以下网络：

#### EVM兼容链
- **以太坊主网** (Ethereum Mainnet)
- **币安智能链** (BSC)
- **Arbitrum One**
- **Base**

#### 非EVM链
- **Solana**

### 2. RPC节点配置

#### 公共节点（免费）
```json
{
    "ethereum": "https://ethereum.publicnode.com",
    "bsc": "https://bsc-dataseed1.binance.org/",
    "arbitrum": "https://arb1.arbitrum.io/rpc",
    "base": "https://mainnet.base.org",
    "solana": "https://api.mainnet-beta.solana.com"
}
```

#### 私有节点（推荐）
- **Infura**: `https://mainnet.infura.io/v3/YOUR_API_KEY`
- **Alchemy**: `https://eth-mainnet.alchemyapi.io/v2/YOUR_API_KEY`
- **QuickNode**: `https://your-endpoint.quiknode.pro/YOUR_API_KEY`

### 3. 常用代币地址

#### 以太坊网络
- **USDT**: `0xdAC17F958D2ee523a2206206994597C13D831ec7`
- **USDC**: `0xA0b86a33E6441b8C4505B7C0c6b0b8e6C6C6C6C6`
- **WETH**: `0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2`

#### BSC网络
- **USDT**: `0x55d398326f99059fF775485246999027B3197955`
- **USDC**: `0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d`
- **BUSD**: `0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56`

#### Arbitrum网络
- **USDT**: `0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9`
- **USDC**: `0xaf88d065e77c8cC2239327C5EDb3A432268e5831`

---

## 📚 使用教程

### GUI版本（推荐）

#### 1. 启动程序
```bash
python wallet_monitor_gui.py
```

#### 2. 基本设置
1. **选择网络**: 在网络选择区域勾选要监控的网络
2. **输入私钥**: 在私钥输入框中输入钱包私钥
3. **设置目标地址**: 输入接收代币的目标钱包地址
4. **配置代币**: 输入要监控的代币合约地址（留空监控原生代币）

#### 3. 高级设置
1. **检查间隔**: 设置监控频率（默认10秒）
2. **抢跑模式**: 启用抢跑功能并选择模式
3. **Gas设置**: 配置Gas价格和限制

#### 4. 开始监控
1. 点击"开始监控"按钮
2. 查看日志输出确认监控状态
3. 等待检测到余额变化

#### 5. 停止监控
1. 点击"停止监控"按钮
2. 等待所有网络监控停止

### 命令行版本

#### 1. 基本使用
```bash
python wallet_monitor.py
```

#### 2. 交互式设置
程序会提示输入：
- 私钥
- 目标地址
- 代币合约地址
- 监控间隔

---

## 🔧 功能详解

### 1. 多网络监控

#### 并行监控
- 同时监控多个网络
- 每个网络独立线程
- 智能负载均衡

#### 网络状态检测
- 自动检测网络连接状态
- 节点响应时间监控
- 自动切换最快节点

### 2. 智能转账

#### 余额检测
- 实时检测代币余额变化
- 支持原生代币和ERC-20代币
- 精确的余额计算

#### 自动转账
- 检测到余额>0时立即转账
- 转出所有可用余额
- 保留足够的Gas费用

#### Gas费用优化
- 自动估算最优Gas价格
- 支持EIP-1559和传统Gas模式
- 智能Gas限制调整

### 3. 日志系统

#### 详细日志
- 操作时间戳
- 网络状态信息
- 交易详情记录
- 错误信息跟踪

#### 日志级别
- `INFO`: 正常操作信息
- `WARNING`: 警告信息
- `ERROR`: 错误信息
- `DEBUG`: 调试信息

---

## 🏃 抢跑功能

### 功能概述
抢跑功能通过提高Gas费用来确保交易优先被矿工打包，适用于高价值交易或网络拥堵情况。

### 抢跑模式

#### 保守模式 (Conservative)
- **Gas倍数**: 1.2-1.5倍
- **默认倍数**: 1.3倍
- **适用场景**: 日常监控、稳定网络
- **成本增加**: 20-50%

#### 激进模式 (Aggressive)
- **Gas倍数**: 1.5-2.0倍
- **默认倍数**: 1.8倍
- **适用场景**: 重要交易、中等拥堵
- **成本增加**: 50-100%

#### 极端模式 (Extreme)
- **Gas倍数**: 2.0-3.0倍
- **默认倍数**: 2.5倍
- **适用场景**: 高价值交易、网络拥堵
- **成本增加**: 100-250%

### 智能抢跑
- 根据网络拥堵情况自动调整Gas倍数
- 实时监控Gas价格变化
- 最大Gas价格限制保护

### 使用方法

#### GUI设置
1. 在抢跑功能区域勾选"启用抢跑"
2. 选择抢跑模式
3. 设置Gas倍数（可选）
4. 设置最大Gas价格限制

#### 快速设置
- **轻度抢跑**: 1.2倍Gas，适合日常使用
- **中度抢跑**: 1.5倍Gas，适合重要交易
- **重度抢跑**: 2.0倍Gas，适合高价值交易

---

## 🌐 网络支持

### 以太坊 (Ethereum)
- **链ID**: 1
- **原生代币**: ETH
- **Gas费用**: 较高
- **确认时间**: 12秒/区块
- **特点**: 最成熟的智能合约平台

### 币安智能链 (BSC)
- **链ID**: 56
- **原生代币**: BNB
- **Gas费用**: 较低
- **确认时间**: 3秒/区块
- **特点**: 高性能、低成本

### Arbitrum One
- **链ID**: 42161
- **原生代币**: ETH
- **Gas费用**: 极低
- **确认时间**: 1秒/区块
- **特点**: 以太坊L2，高速低成本

### Base
- **链ID**: 8453
- **原生代币**: ETH
- **Gas费用**: 极低
- **确认时间**: 2秒/区块
- **特点**: Coinbase开发的L2

### Solana
- **链ID**: mainnet-beta
- **原生代币**: SOL
- **Gas费用**: 极低
- **确认时间**: 0.4秒/区块
- **特点**: 高性能区块链

---

## ❓ 常见问题

### Q1: 如何获取私钥？
**A**: 
- MetaMask: 账户详情 → 导出私钥
- Trust Wallet: 设置 → 钱包 → 显示私钥
- 硬件钱包: 通过官方软件导出

### Q2: 为什么连接失败？
**A**: 检查以下几点：
- RPC URL是否正确
- 网络连接是否正常
- API密钥是否有效
- 防火墙是否阻止连接

### Q3: 为什么转账失败？
**A**: 可能的原因：
- 余额不足支付Gas费用
- 代币合约地址错误
- 目标地址无效
- 网络拥堵导致交易失败

### Q4: 如何提高转账成功率？
**A**: 
- 启用抢跑功能
- 增加Gas价格
- 使用更快的RPC节点
- 确保钱包有足够的原生代币

### Q5: 支持哪些代币？
**A**: 
- EVM链: 所有ERC-20兼容代币
- Solana: 所有SPL代币
- 原生代币: ETH、BNB、SOL等

### Q6: 如何设置多个监控任务？
**A**: 
- 在GUI中添加多个代币地址
- 选择不同的网络
- 设置不同的目标地址

---

## 🔒 安全注意事项

### 私钥安全
⚠️ **重要提醒**:
- 私钥是钱包的完全控制权
- 永远不要在不安全的环境中使用
- 不要在代码或配置文件中保存私钥
- 使用完毕后立即清除

### 网络安全
- 使用可信的RPC节点
- 避免在公共WiFi下使用
- 定期更新依赖包
- 使用VPN保护网络连接

### 资金安全
- 首先在测试网络上测试
- 使用小额资金进行测试
- 设置合理的Gas价格限制
- 定期检查交易记录

### 使用建议
1. **测试环境**: 先在测试网络上验证功能
2. **小额测试**: 使用少量资金测试转账
3. **监控日志**: 密切关注程序日志输出
4. **备份私钥**: 确保私钥有安全备份
5. **定期更新**: 保持软件版本最新

---

## 🔧 故障排除

### 连接问题

#### 症状: RPC连接失败
**解决方案**:
1. 检查网络连接
2. 更换RPC节点
3. 检查防火墙设置
4. 验证API密钥

#### 症状: 节点响应慢
**解决方案**:
1. 使用节点速度测试功能
2. 切换到更快的节点
3. 调整超时设置
4. 使用付费节点服务

### 转账问题

#### 症状: Gas费用不足
**解决方案**:
1. 充值更多原生代币
2. 降低Gas价格
3. 等待网络不拥堵时转账
4. 使用L2网络

#### 症状: 交易被拒绝
**解决方案**:
1. 检查nonce值
2. 增加Gas价格
3. 重新发送交易
4. 检查代币授权

### 程序问题

#### 症状: 程序崩溃
**解决方案**:
1. 检查Python版本
2. 重新安装依赖包
3. 查看错误日志
4. 重启程序

#### 症状: 内存占用过高
**解决方案**:
1. 减少监控网络数量
2. 增加检查间隔
3. 重启程序
4. 升级硬件

---

## 📈 性能优化

### 网络优化
- 使用多个RPC节点
- 启用节点自动切换
- 优化检查间隔
- 并行处理多个网络

### 内存优化
- 定期清理日志
- 限制并发网络数量
- 优化数据结构
- 使用内存池

### 速度优化
- 使用更快的RPC节点
- 启用抢跑功能
- 优化Gas设置
- 使用WebSocket连接

---

## 📊 监控指标

### 网络指标
- 连接状态
- 响应时间
- 成功率
- 错误率

### 交易指标
- 转账次数
- 成功率
- Gas费用
- 确认时间

### 性能指标
- CPU使用率
- 内存使用量
- 网络带宽
- 磁盘I/O

---

## 🆕 更新日志

### v2.0.0 (最新)
- ✅ 添加抢跑功能
- ✅ 支持Solana网络
- ✅ 优化金额显示精度
- ✅ 增强GUI界面
- ✅ 改进错误处理

### v1.5.0
- ✅ 添加多网络支持
- ✅ 优化Gas费用计算
- ✅ 增加节点自动切换
- ✅ 改进日志系统

### v1.0.0
- ✅ 基础监控功能
- ✅ GUI界面
- ✅ 以太坊和BSC支持
- ✅ 自动转账功能

---

## 📞 技术支持

### 获取帮助
- 查看文档: 阅读相关MD文档
- 检查日志: 查看程序输出日志
- 搜索问题: 在GitHub Issues中搜索
- 提交Issue: 描述问题并提供日志

### 联系方式
- GitHub Issues: 提交bug报告和功能请求
- 邮箱: 发送详细的问题描述
- 社区论坛: 参与讨论和交流

---

## 📄 许可证

本项目采用 MIT 许可证，详情请参见 [LICENSE](LICENSE) 文件。

---

## 🤝 贡献

欢迎贡献代码和建议！请遵循以下步骤：

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

---

## ⚠️ 免责声明

本工具仅供学习和研究使用。使用者需要：
- 了解区块链和智能合约的风险
- 自行承担使用风险
- 遵守当地法律法规
- 妥善保管私钥和资产

作者不对任何资产损失承担责任。使用前请充分了解相关风险。

---

**祝您使用愉快！** 🚀 
